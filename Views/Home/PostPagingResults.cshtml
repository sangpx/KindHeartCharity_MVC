@model KindHeartCharity.Models.DTO.PaginatedList<KindHeartCharity.Models.Domain.Post>

<section class="section-padding" id="section_3">
    <div class="container">
        <div class="row">

            <div class="col-lg-12 col-12 text-center mb-4">
                <h2>News</h2>

                <input class="custom-form search-form" type="text" id="searchTerm" name="searchTerm" placeholder="Search...">
                <button onclick="handleSearchPost()" class="btn btn-outline-secondary" type="submit">
                    <i class="bi bi-search"></i>
                </button>

            </div>

    @foreach (var item in Model.Items)
    {
        <div class="col-lg-4 col-md-6 col-12">
            <div class="custom-block-wrap">

                <a asp-action="GetPostById" asp-controller="Home" asp-route-id="@item.PostId">
                    <img src="/Uploads/@item.PostImageURL"
                         class="custom-block-image img-fluid" alt="">
                </a>

                <div class="custom-block">
                    <div class="custom-block-body">
                        <h5 class="mb-3 text-truncation">

                            @item.Content

                        </h5>

                        <p class="text-truncation">
                            @item.Description
                        </p>

                        <div class="progress mt-4">
                            <div class="progress-bar w-100" role="progressbar" aria-valuenow="100"
                                 aria-valuemin="0" aria-valuemax="100"></div>
                        </div>

                        <div class="d-flex justify-content-between mt-2">
                            <div class="news-block-date">
                                <p>
                                    <i class="bi-calendar4 custom-icon me-1"></i>
                                    @item.PostDate
                                </p>
                            </div>

                            <div class="news-block-author">
                                <p>
                                    <i class="bi-person custom-icon me-1"></i>
                                    By Admin
                                </p>
                            </div>


                        </div>

                    </div>

                </div>
            </div>
        </div>
    }


<nav>
    @if (Model.TotalPages > 1)
    {
        <ul class="pagination">
            @if (Model.PageNumber > 1)
            {
                <li class="page-item">
                    <a class="page-link" href="javascript:void(0);" onclick="handlePagingPost(@Model.PageNumber - 1)">
                        <i class="bi bi-arrow-left"></i>
                    </a>
                </li>
            }

            @for (int i = 1; i <= Model.TotalPages; i++)
            {
                <li class="page-item @(Model.PageNumber == i ? "active" : "")">
                    <a class="page-link" href="javascript:void(0);" onclick="handlePagingPost(@i)">@i</a>
                </li>
            }

            @if (Model.PageNumber < Model.TotalPages)
            {
                <li class="page-item">
                    <a class="page-link" href="javascript:void(0);" onclick="handlePagingPost(@Model.PageNumber + 1)">
                        <i class="bi bi-arrow-right"></i>
                    </a>
                </li>
            }
        </ul>
    }
</nav>

        </div>

    </div>
</section>
